<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <style>
    body {
      font-family: "Avenir", "Helvetica Neue", Helvetica, sans-serif;
      width: 100%;
    }
    h1, h2 {
      text-transform: uppercase;
      text-align: center;
    }
    h1 {
      font-size: 48px;
      margin-top: 30px;
      margin-bottom: 0px;
    }
    h2 {
      font-size: 32px;
      color: #888;
    }

    /* SVG */
    svg.main {
      display: block;
      margin: 0 auto;
      margin-top: 30px;
    }
    .background {
      fill: #6cb0e0;
      pointer-events: all;
    }
    .countries {
      fill: #b0d0ab;
      stroke: #6cb0e0;
      stroke-width: 0.5px;
      stroke-linecap: round;
      stroke-linejoin: round;
      vector-effect: non-scaling-stroke;
    }
    .airports {
      fill: #036;
      stroke: #6cb0e0;
      stroke-width: 0.5px;
      stroke-linecap: round;
      stroke-linejoin: round;
      vector-effect: non-scaling-stroke;
    }
  </style>
</head>
<body>
  <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="//d3js.org/topojson.v1.min.js"></script>
  <script src="https://d3js.org/d3-queue.v3.min.js"></script>

  <div class="wrapper">
    <h1>Flight Animation Across the World</h1>
    <h2></h2>
  </div>

  <script>

    var width = 940;
    var height = 600;

    var projection = d3.geo.mercator()
      .scale(150)
      .translate([width / 2, height/ 2]);

    var path = d3.geo.path()
      .pointRadius(2)
      .projection(projection);

    var svg = d3.select(".wrapper")
      .append("svg")
      .attr("class", "main")
      .attr("width", width)
      .attr("height", height);

    // Add background for ocean color
    svg.append("rect")
      .attr("class", "background")
      .attr("width", width)
      .attr("height", height);

    function loaded(error, countries, airports) {
      if (error) {
        return console.log("Error");
      }

      // Load countries
      svg.append("g")
        .attr("class", "countries")
        .selectAll("path")
        .data(topojson.feature(countries, countries.objects.countries).features)
        .enter()
        .append("path")
        .attr("d", path);

      // Load airports
      svg.append("g")
        .attr("class", "airports")
        .selectAll("path")
        .data(topojson.feature(airports, airports.objects.airports).features)
        .enter()
        .append("path")
        .attr("id", function(d) { return d.id; })
        .attr("d", path);
    }

    var queue = d3.queue();
    queue.defer(d3.json, "countries.topo.json")
      .defer(d3.json, "airports.topo.json")
      .await(loaded);
  </script>
</body>

<!-- Start local server by running `node_modules/.bin/http-server -p 8008` -->